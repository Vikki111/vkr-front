<div class="container">
  <nav class="nav navbar-expand-sm bg-dark navbar-dark navbar-brand">
    <div class="container">
      <ul class = "navbar-nav">
        <li class = "nav-item">
          <a routerLink="/students" routerLinkActive="active" class="nav-link">Студенты</a>
        </li>
        <li class = "nav-item">
          <a routerLink="/exercises" routerLinkActive="active" class="nav-link">Задания</a>
        </li>
        <li class = "nav-item">
          <a routerLink="/users" routerLinkActive="active" class="nav-link">Пользователи</a>
        </li>
        <li class="nav-item">
          <a href class="nav-link" (click)="logout()">Выход</a>
        </li>
      </ul>
    </div>
  </nav>
</div>
<div class="container">
  <br>
  <button *ngIf="this.isAdmin" (click) = "createStudent()" class = "btn btn-success">Добавить студента</button>
  <br>
  <br>
  <h3>Поиск</h3>
  <br>

  <table class="table table-secondary table-bordered">
    <thead>
    <tr>
      <th>Фамилия</th>
      <th>Имя</th>
      <th>Отчество</th>
      <th>Группа</th>
      <th>Оценка</th>
      <th>Задание</th>
      <th>Поиск</th>
    </tr>
    </thead>
    <tbody>
      <td><input class="form-control" [(ngModel)] = "studentFilter.lastName" id="lastName"></td>
      <td><input class="form-control" [(ngModel)] = "studentFilter.firstName" id="firstName"></td>
      <td><input class="form-control" [(ngModel)] = "studentFilter.patronymic" id="patronymic"></td>
      <td><input class="form-control" [(ngModel)] = "studentFilter.department" id="department"></td>
      <td><input class="form-control" [(ngModel)] = "studentFilter.mark" id="mark"></td>
      <td><input class="form-control" [(ngModel)] = "studentFilter.exerciseId" id="exerciseId"></td>
      <td ><button (click) = "search()" type="button" class = "btn btn-primary btn-outline-primary" id="search">Поиск</button></td>
    </tbody>
  </table>

  <h3>Студенты</h3>

  <table class="table table-striped table-bordered">
    <thead>
    <tr>
      <th>Фамилия</th>
      <th>Имя</th>
      <th>Отчество</th>
      <th>Группа</th>
      <th>Оценка</th>
<!--      <th>Graph</th>-->
      <th>Готовность</th>
      <th>Комментарий</th>
      <th>Задание</th>
      <th>Просмотр</th>
      <th>Изменить</th>
      <th>Удалить</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let student of students | async">
      <td>{{student.lastName}}</td>
      <td>{{student.firstName}}</td>
      <td>{{student.patronymic}}</td>
      <td>{{student.department}}</td>
      <td>{{student.mark}} </td>
<!--      <td>{{student.graph}}</td>-->
      <td>{{student.ready}}</td>
      <td>{{student.comment}}</td>
      <td>{{student.exerciseNumber}}</td>
      <td><button (click)="viewGraph(student.id)" class = "btn btn-secondary">Просмотр</button></td>
      <td><button (click) = "updateStudent(student.id)" class = "btn btn-secondary">Изменить</button></td>
      <td><button (click)="deleteStudent(student.id)" class = "btn btn-danger">Удалить</button></td>
    </tr>
    </tbody>
  </table>
</div>
